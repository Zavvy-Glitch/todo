{"version":3,"sources":["context/Settings.js","hooks/form.js","components/todo/todo.js","components/todo/header.js","components/todo/items.js","components/todo/useSettings.js","components/auth/context.js","components/auth/auth.js","components/auth/login.js","app.js","index.js"],"names":["SettingsContext","React","createContext","Settings","props","useState","itemPref","setItemPref","dispComp","setDisComp","sort","setSort","useEffect","item","JSON","parse","window","localStorage","getItem","Object","keys","length","console","log","setItem","stringify","values","count","string","Provider","value","children","useForm","callback","setValues","handleChange","event","persist","target","name","handleSubmit","preventDefault","text","assignee","ToDo","id","uuid","complete","dup","list","filter","todo","toLowerCase","setList","onSubmit","onChange","type","placeholder","defaultValue","min","max","Header","incomplete","Items","settings","useContext","current","setCurrent","newPage","e","indOfLast","indOfFirst","currentToDo","slice","getToDo","map","difficulty","onClick","items","toggleComplete","className","toString","itemsPerPage","UserSettings","htmlFor","checked","LoginContext","testUsers","Administrator","password","token","User","Writer","LoginProvider","loggedIn","setLoggedIn","user","setUser","error","setError","login","username","a","authCredentials","_validateToken","jwt_decode","cookie","save","can","capability","capabilities","includes","logout","remove","Auth","condition","Login","setUsername","setPassword","App","setIncomplete","incompleteCount","document","title","to","path","element","Main","Component","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.7a5c14f2.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nexport const SettingsContext = React.createContext();\n\nfunction Settings(props) {\n  let [itemPref, setItemPref] = useState(5);\n  let [dispComp, setDisComp] = useState(true);\n  let [sort, setSort] = useState('difficulty');\n\n  useEffect(() => {\n    let item = JSON.parse(window.localStorage.getItem(\"settings\")) || {};\n    if (Object.keys(item).length === 0) {\n      console.log(\"Not Items\");\n    } else {\n      console.log(\"This\", item);\n      setItemPref(item.itemPref);\n      setDisComp(item.dispComp);\n      setSort(item.sort)\n    }\n  }, []);\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"settings\",\n      JSON.stringify({ itemPref, dispComp, sort })\n    );\n  }, [itemPref, dispComp, sort]);\n\n  let values = {\n    dispComp,\n    setDisComp: function () {\n      setDisComp(!dispComp);\n    },\n    itemPref,\n    setItemPref: function (count) {\n        setItemPref(count);\n    },\n    sort,\n    setSort: function (string) {\n      if(typeof string === 'string'){\n        setSort(string)\n      }\n    }\n  };\n\n  return (\n    <SettingsContext.Provider value={values}>\n      {props.children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport default Settings;\n","import { useState } from \"react\";\n\nconst useForm = (callback) => {\n  const [values, setValues] = useState({});\n\n  const handleSubmit = (event) => {\n    if (event) event.preventDefault();\n    if (!values.text || !values.assignee) return;\n    callback(values);\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n    setValues((values) => ({\n      ...values,\n      [event.target.name]: event.target.value,\n    }));\n  };\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n  };\n};\n\nexport default useForm;\n","import React from \"react\";\nimport useForm from \"../../hooks/form.js\";\n\n\nimport { v4 as uuid } from \"uuid\";\n\nfunction ToDo (props) {\n  \n  const addItem = (item) => {\n    item.id = uuid();\n    item.complete = false;\n    const dup = props.list.filter((todo) => {\n      if (todo.text.toLowerCase() === item.text.toLowerCase()) {\n        if (todo.assignee.toLowerCase() === item.assignee.toLowerCase()) {\n          return true;\n        }\n      }\n      return false;\n    });\n    if (dup.length > 0) {\n      return;\n    }\n    props.setList([...props.list, item]);\n  };\n  \n  const { handleChange, handleSubmit } = useForm(addItem);\n\n  // function deleteItem(id) {\n  //   const items = props.list.filter((item) => item.id !== id);\n  //   props.setList(items);\n  // }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <h2>Add To Do Item</h2>\n\n        <label>\n          <span>To Do Item</span>\n          <input\n            onChange={handleChange}\n            name=\"text\"\n            type=\"text\"\n            placeholder=\"Item Details\"\n          />\n        </label>\n\n        <label>\n          <span>Assigned To</span>\n          <input\n            onChange={handleChange}\n            name=\"assignee\"\n            type=\"text\"\n            placeholder=\"Assignee Name\"\n          />\n        </label>\n\n        <label>\n          <span>Difficulty</span>\n          <input\n            onChange={handleChange}\n            defaultValue={3}\n            type=\"range\"\n            min={1}\n            max={5}\n            name=\"difficulty\"\n          />\n        </label>\n\n        <label>\n          <button type=\"submit\">Add Item</button>\n        </label>\n      </form>\n    </>\n  );\n};\n\nexport default ToDo;\n","import React from \"react\";\n\nexport default function Header(props) {\n  return (\n    <header>\n      <h1>To Do List</h1>\n      <h2> {props.incomplete} items pending</h2>\n    </header>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport { SettingsContext } from \"../../context/Settings.js\";\n\n\nfunction Items(props) {\n  \n  const settings = useContext(SettingsContext);\n  const [current, setCurrent] = useState(1);\n\n  function toggleComplete(id) {\n    const items = props.list.map((item) => {\n      if (item.id === id) {\n        item.complete = !item.complete;\n      }\n      return item;\n    });\n    props.setList(items);\n  }\n\n  function newPage(e) {\n    if (e.target.id === \"next\") {\n      setCurrent(current + 1);\n      return;\n    }\n    setCurrent(current - 1);\n  }\n\n  function getToDo() {\n    const indOfLast = current * settings.itemPref;\n    const indOfFirst = indOfLast - settings.itemPref;\n    const currentToDo = props.list.slice(indOfFirst, indOfLast);\n\n    if (!settings.dispComp) {\n      return currentToDo.filter((item) => {\n        if (item.complete) {\n          return false;\n        }\n        return true;\n      });\n    }\n    return currentToDo;\n  }\n\n  return (\n    <div>\n      <div>\n        {getToDo().map((item) => (\n          <div key={item.id}>\n            <p>\n              <small>Assigned to: {item.assignee}</small>\n            </p>\n            <p>{item.text}</p>\n            <p>\n              <small>Difficulty: {item.difficulty}</small>\n            </p>\n\n            <div onClick={() => toggleComplete(item.id)}>\n              Complete:{\" \"}\n              <button\n                type=\"button\"\n                className={`w-10 rounded-md py-1 px-1 cursor-pointer ${\n                  item.complete === true ? \"bg-green-300\" : \"bg-red-300\"\n                }`}\n              >\n                {item.complete.toString()}\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n      <div>\n        {current > 1 && (\n          <button id=\"prev\" onClick={newPage} type=\"button\">\n            PREV\n          </button>\n        )}\n        {props.list.length > settings.itemsPerPage ? (\n          <button id=\"next\" onClick={newPage} type=\"button\">\n            NEXT\n          </button>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nexport default Items;\n","import React, { useContext } from \"react\";\nimport { SettingsContext } from \"../../context/Settings.js\";\n\nfunction UserSettings() {\n  let settings = useContext(SettingsContext);\n  return (\n    <div>\n      <label htmlFor=\"item count\">Item Count: </label>\n      <input\n        id=\"item count\"\n        type=\"number\"\n        name=\"item count\"\n        min=\"1\"\n        value={settings.itemPref}\n        max=\"10\"\n        onChange={(e) => settings.setItemPref(e.target.value)}\n      />\n\n      <label htmlFor=\"display completed\"> Display Completed</label>\n      <input\n        type=\"checkbox\"\n        id=\"display completed\"\n        name=\"display completed\"\n        onChange={(e) => settings.setDisComp(e.target.value)}\n        checked={settings.dispComp}\n        onClick={() => {\n          settings.setDisComp();\n        }}\n      />\n    </div>\n  );\n}\n\nexport default UserSettings;\n","import React, { useState } from \"react\";\nimport cookie from \"react-cookies\";\nimport jwt_decode from \"jwt-decode\";\n\nexport const LoginContext = React.createContext();\n\nconst testUsers = {\n  Administrator: {\n    password: 'admin',\n    name: 'Administrator',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQWRtaW5pc3RyYXRvciIsInJvbGUiOiJhZG1pbiIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJywncmVhZCcsJ3VwZGF0ZScsJ2RlbGV0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.pAZXAlTmC8fPELk2xHEaP1mUhR8egg9TH5rCyqZhZkQ'\n  },\n  User: {\n    password: 'user',\n    name: 'User',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiVXNlciIsInJvbGUiOiJ1c2VyIiwiY2FwYWJpbGl0aWVzIjoiWydyZWFkJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.WXYvIKLdPz_Mm0XDYSOJo298ftuBqqjTzbRvCpxa9Go'\n  },\n  Writer: {\n    password: \"password\",\n    name: \"Writer\",\n    token: \"yJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3cml0ZXIiOnsicGFzc3dvcmQiOiJwYXNzd29yZCIsIm5hbWUiOiJXcml0ZXIifX0.g_hayyIxz717Nt-B71nPdzUGMCuVw03jkciFXcYWXm0\",\n  },\n};\n\nfunction LoginProvider({ children }) {\n\n  let [loggedIn, setLoggedIn] = useState(false);\n  let [user, setUser] = useState({});\n  let [error, setError] = useState(null);\n\n  const can = (capability) => {\n    return user?.capabilities?.includes(capability);\n  };\n\n  const login = async (username, password) => {\n    let authCredentials = testUsers[username];\n\n    if (authCredentials && authCredentials.password === password) {\n      try {\n        _validateToken(authCredentials.token);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  };\n\n  const _validateToken = (token) => {\n    try {\n      let user = jwt_decode(token);\n      if (user) {\n        setUser(user);\n        setLoggedIn(true);\n        cookie.save(\"auth\", token);\n      }\n    } catch (e) {\n      setLoggedIn(false, null, {});\n      setError(e);\n    }\n  };\n\n  const logout = () => {\n    setUser({});\n    setLoggedIn(false);\n    setError(null);\n    cookie.remove(\"auth\");\n  };\n\n  const values = {\n    user,\n    can,\n    loggedIn,\n    login,\n    logout,\n    error,\n  };\n\n  return (\n    <LoginContext.Provider value={values}>{children}</LoginContext.Provider>\n  );\n}\n\nexport default LoginProvider;\n","import React, { useContext } from \"react\";\nimport { When } from \"react-if\";\n\nimport { LoginContext } from \"./context.js\";\n\nfunction Auth({ capability, children }) {\n  const { loggedIn, can } = useContext(LoginContext);\n\n  return <When condition={loggedIn && can(capability)}>{children}</When>;\n}\n\nexport default Auth;\n","import React, { useState, useContext } from \"react\";\nimport { When } from \"react-if\";\n\nimport { LoginContext } from \"./context.js\";\n\nfunction Login () {\n\n  const { loggedIn, login, logout } = useContext(LoginContext)\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n\n  const handleChange = (e) => {\n    let {name, value} = e.target;\n    if(name === 'username') setUsername(value);\n    if(name === 'password') setPassword(value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(username, password);\n  };\n    return (\n      <>\n        <When condition={loggedIn}>\n          <button onClick={logout}>Log Out</button>\n        </When>\n\n        <When condition={!loggedIn}>\n          <form onSubmit={handleSubmit}>\n            <input\n              data-testid=\"username\"\n              placeholder=\"Username\"\n              name=\"username\"\n              onChange={handleChange}\n            />\n            <input\n              data-testid=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleChange}\n            />\n            <button type =\"submit\">Login</button>\n          </form>\n        </When>\n      </>\n    );\n  }\n\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Routes, Route, Link } from \"react-router-dom\";\n\nimport ToDo from \"./components/todo/todo.js\";\nimport Header from \"./components/todo/header.js\";\nimport Items from \"./components/todo/items.js\";\nimport UserSettings from \"./components/todo/useSettings.js\";\nimport Auth from \"./components/auth/auth.js\";\nimport Login from \"./components/auth/login.js\";\nimport LoginContext from \"./components/auth/context.js\";\n\nexport default function App() {\n  const [incomplete, setIncomplete] = useState();\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    let incompleteCount = list.filter((item) => !item.complete).length;\n    setIncomplete(incompleteCount);\n    document.title = `To Do List: ${incompleteCount}`;\n  }, [list]);\n\n  return (\n    <>\n      <LoginContext>\n        <Login />\n\n        <Auth>\n          <div>Any valid user can see this</div>\n        </Auth>\n\n        <Auth capability=\"create\">\n          <div>Users with create access can see this</div>\n        </Auth>\n\n        <Auth capability=\"update\">\n          <div>Users with update access can see this</div>\n        </Auth>\n\n        <Auth capability=\"delete\">\n          <div>Users with delete access can see this</div>\n        </Auth>\n      </LoginContext>\n\n      <BrowserRouter>\n      <Header incomplete={incomplete} />\n      <Link to='/todo'>Home Page</Link>\n      <Link to='/settings'>Settings</Link>\n        <Routes>\n          <Route path='/settings' element={<UserSettings />}/>\n          <Route path='/todo' element={<ToDo setIncomplete={setIncomplete} setList={setList} list={list} />}/>\n        </Routes>\n      </BrowserRouter>\n\n      <Items list={list} setList={setList} />\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport Settings from \"./context/Settings.js\";\n\nimport App from \"./app.js\";\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <Settings>\n        <App />\n      </Settings>\n    );\n  }\n}\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<Main />);\n"],"sourceRoot":""}