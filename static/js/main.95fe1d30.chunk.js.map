{"version":3,"sources":["context/Settings.js","hooks/form.js","components/header/header.js","components/form/Form.js","components/items/items.js","components/footer/Footer.js","components/todo/todo.js","components/todo/useSettings.js","components/auth/context.js","components/auth/auth.js","components/auth/login.js","app.js","index.js"],"names":["SettingsContext","React","createContext","SettingsProvider","children","Provider","value","showCompleted","itemsToDisplay","sort","useForm","callback","defaultValues","useState","values","setValues","handleSubmit","event","preventDefault","handleChange","persist","target","name","useEffect","Header","incomplete","Form","onSubmit","onChange","type","placeholder","defaultValue","difficulty","min","max","className","List","list","toggleComplete","settings","useContext","page","setPage","id","items","start","end","length","i","push","renderItems","map","item","text","assignee","onClick","complete","toString","disabled","Footer","show","setShow","e","href","ToDo","setList","setIncomplete","console","log","uuid","incompleteCount","filter","document","title","UserSettings","htmlFor","itemPref","setItemPref","setDisComp","checked","dispComp","LoginContext","testUsers","Administrator","password","token","User","Writer","LoginProvider","loggedIn","setLoggedIn","user","setUser","error","setError","login","username","a","authCredentials","_validateToken","jwt_decode","cookie","save","can","capability","capabilities","includes","logout","remove","Auth","condition","Login","setUsername","setPassword","App","to","path","element","Main","Settings","Component","ReactDOM","createRoot","getElementById","render"],"mappings":"gLAEaA,EAAkBC,IAAMC,gBAmBtBC,MAjBf,YAAuC,IAAZC,EAAW,EAAXA,SASzB,OACE,cAACJ,EAAgBK,SAAjB,CAA0BC,MARd,CACZC,eAAe,EACfC,eAAgB,EAChBC,KAAM,cAKN,SACGL,K,4CCYQM,EAzBC,SAACC,GAAgC,IAAtBC,EAAqB,uDAAP,GAEvC,EAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAEMC,EAAe,SAACC,GACpBA,EAAMC,iBACNP,EAASG,IAGLK,EAAe,SAACF,GACpBA,EAAMG,UACNL,GAAU,SAAAD,GAAM,kCAAUA,GAAV,kBAAmBG,EAAMI,OAAOC,KAAOL,EAAMI,OAAOf,YAOtE,OAJAiB,qBAAW,WACTR,EAAWH,KACV,CAACA,IAEG,CACLO,eACAH,eACAF,W,QCbWU,MARf,YACE,OAD8B,EAAdC,WAEd,iCACE,yCC2BSC,EA9BF,SAAC,GAAmD,IAAjDP,EAAgD,EAAhDA,aAAcH,EAAkC,EAAlCA,aAAcJ,EAAoB,EAApBA,cAE1C,OACE,uBAAMe,SAAUX,EAAhB,UAEI,gDAEA,kCACE,8CACA,uBAAOY,SAAUT,EAAcG,KAAK,OAAOO,KAAK,OAAOC,YAAY,oBAGrE,kCACE,+CACA,uBAAOF,SAAUT,EAAcG,KAAK,WAAWO,KAAK,OAAOC,YAAY,qBAGzE,kCACE,8CACA,uBAAOF,SAAUT,EAAcY,aAAcnB,EAAcoB,WAAYH,KAAK,QAAQI,IAAK,EAAGC,IAAK,EAAGZ,KAAK,kBAG3G,gCACE,wBAAQO,KAAK,SAASM,UAAU,qBAAhC,4BCiCKC,EArDF,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,eAEdC,EAAWC,qBAAWxC,GAE5B,EAAwBa,mBAAS,GAAjC,mBAAO4B,EAAP,KAAaC,EAAb,KAgBA,OACE,mCACE,0BAASC,GAAG,QAAZ,UAhBgB,WAClB,IAAIC,EAAQ,GACRC,EAASN,EAAS/B,eAAiBiC,EAAQ,EAC3CK,EAAOP,EAAS/B,eAAiBiC,EACrC,GAAIJ,EAAKU,OAASR,EAAS/B,eAAgB,CACzC,IAAK,IAAIwC,EAAIH,EAAOG,EAAIF,EAAKE,IAC3BJ,EAAMK,KAAKZ,EAAKW,IAElB,OAAOJ,EAEP,OAAOP,EAOJa,GAAcC,KAAI,SAAAC,GAAI,OACrBA,EACE,gCACE,6BAAKA,EAAKC,OACV,8CAAiBD,EAAKE,YACtB,6CAAgBF,EAAKpB,cACrB,yBAAQuB,QAAS,kBAAMjB,EAAec,EAAKT,KAAKR,UAAWiB,EAAKI,SAAW,oBAAsB,qBAAjG,uBAAkIJ,EAAKI,SAASC,cAChJ,yBALQL,EAAKT,IAMN,QAGZN,EAAKU,OAAoC,EAA1BR,EAAS/B,gBAAuBiC,EAAO,EACrD,wBACEZ,KAAK,QACL0B,QAAS,kBAAMb,EAAQD,EAAO,IAC9BN,UAAU,8BACVuB,SAAUjB,EAAO,EAJnB,sBAKuB,KACxBJ,EAAKU,OAASR,EAAS/B,eACtB,wBACEqB,KAAK,QACL0B,QAAS,kBAAMb,EAAQD,EAAO,IAC9BN,UAAU,6BACVuB,SAAUrB,EAAKU,OAASN,GAAQF,EAAS/B,eAJ3C,kBAKmB,WC7BdmD,EApBA,WAEb,MAAwB9C,oBAAS,GAAjC,mBAAO+C,EAAP,KAAaC,EAAb,KAMA,OACE,mCACA,mBAAGN,QANe,SAACO,GACnBD,GAASD,IAKgBjB,GAAG,KAA5B,qBACA,mBAAGR,UAAWyB,EAAO,WAAa,SAAlC,0BACA,sBAAKjB,GAAG,OAAR,UACE,mBAAGoB,KAAK,OAAR,oBACA,mBAAGA,KAAK,OAAR,4BC8DSC,EApEF,WAEX,IAAMzB,EAAWC,qBAAWxC,GAEtBY,EAAgB,CACpBoB,WAAY,GAGd,EAAwBnB,mBAAS,IAAjC,mBAAOwB,EAAP,KAAa4B,EAAb,KACA,EAAoCpD,mBAAS,IAA7C,mBAAOY,EAAP,KAAmByC,EAAnB,KACA,EAAuCxD,GAEvC,SAAiB0C,GACfe,QAAQC,IAAIhB,GACZA,EAAKT,GAAK0B,cACVjB,EAAKI,UAAW,EAChBS,EAAQ,GAAD,mBAAK5B,GAAL,CAAWe,KAClBe,QAAQC,IAAI7B,EAAS/B,kBAPiCI,GAAhDO,EAAR,EAAQA,aAAcH,EAAtB,EAAsBA,aAqCtB,OATAO,qBAAU,WACR,IAAI+C,EAAkBjC,EAAKkC,QAAO,SAAAnB,GAAI,OAAKA,EAAKI,YAAUT,OAC1DmB,EAAcI,KACb,CAACjC,IAEJd,qBAAU,WACRiD,SAASC,MAAT,sBAAgChD,KAC/B,CAACA,IAGF,qCACE,cAAC,EAAD,CAAQA,WAAYA,IACpB,sBAAKkB,GAAG,OAAR,UACA,8CAAiBlB,EAAjB,oBACE,cAAC,EAAD,CACEN,aAAcA,EACdH,aAAcA,EACdJ,cAAeA,IAGjB,cAAC,EAAD,CACEyB,KAAMA,EACNC,eAnCR,SAAwBK,GAEtB,IAAMC,EAAQP,EAAKc,KAAI,SAAAC,GAIrB,OAHIA,EAAKT,KAAOA,IACdS,EAAKI,UAAYJ,EAAKI,UAEjBJ,KAGTa,EAAQrB,SA6BR,cAAC,EAAD,QCzCW8B,MA9Bf,WACE,IAAInC,EAAWC,qBAAWxC,GAC1B,OACE,gCACE,uBAAO2E,QAAQ,aAAf,0BACA,uBACEhC,GAAG,aACHd,KAAK,SACLP,KAAK,aACLW,IAAI,IACJ3B,MAAOiC,EAASqC,SAChB1C,IAAI,KACJN,SAAU,SAACkC,GAAD,OAAOvB,EAASsC,YAAYf,EAAEzC,OAAOf,UAGjD,uBAAOqE,QAAQ,oBAAf,gCACA,uBACE9C,KAAK,WACLc,GAAG,oBACHrB,KAAK,oBACLM,SAAU,SAACkC,GAAD,OAAOvB,EAASuC,WAAWhB,EAAEzC,OAAOf,QAC9CyE,QAASxC,EAASyC,SAClBzB,QAAS,WACPhB,EAASuC,oB,yDCtBNG,EAAehF,IAAMC,gBAE5BgF,EAAY,CAChBC,cAAe,CACbC,SAAU,QACV9D,KAAM,gBACN+D,MAAO,uOAETC,KAAM,CACJF,SAAU,OACV9D,KAAM,OACN+D,MAAO,qLAETE,OAAQ,CACNH,SAAU,SACV9D,KAAM,SACN+D,MAAO,wHA6DIG,MAzDf,YAAsC,IAAbpF,EAAY,EAAZA,SAEvB,EAA8BS,oBAAS,GAAvC,mBAAK4E,EAAL,KAAeC,EAAf,KACA,EAAsB7E,mBAAS,IAA/B,mBAAK8E,EAAL,KAAWC,EAAX,KACA,EAAwB/E,mBAAS,MAAjC,mBAAKgF,EAAL,KAAYC,EAAZ,KAMMC,EAAK,uCAAG,WAAOC,EAAUZ,GAAjB,eAAAa,EAAA,sDAGZ,IAFIC,EAAkBhB,EAAUc,KAETE,EAAgBd,WAAaA,EAClD,IACEe,EAAeD,EAAgBb,OAC/B,MAAOvB,GACPK,QAAQ0B,MAAM/B,GAPN,2CAAH,wDAYLqC,EAAiB,SAACd,GACtB,IACE,IAAIM,EAAOS,YAAWf,GAClBM,IACFC,EAAQD,GACRD,GAAY,GACZW,IAAOC,KAAK,OAAQjB,IAEtB,MAAOvB,GACP4B,GAAY,EAAO,KAAM,IACzBI,EAAShC,KAWPhD,EAAS,CACb6E,OACAY,IAvCU,SAACC,GAAgB,IAAD,EAC1B,cAAOb,QAAP,IAAOA,GAAP,UAAOA,EAAMc,oBAAb,aAAO,EAAoBC,SAASF,IAuCpCf,WACAM,QACAY,OAZa,WACbf,EAAQ,IACRF,GAAY,GACZI,EAAS,MACTO,IAAOO,OAAO,SASdf,SAGF,OACE,cAACZ,EAAa5E,SAAd,CAAuBC,MAAOQ,EAA9B,SAAuCV,KClE5ByG,MANf,YAAyC,IAAzBL,EAAwB,EAAxBA,WAAYpG,EAAY,EAAZA,SAC1B,EAA0BoC,qBAAWyC,GAA7BQ,EAAR,EAAQA,SAAUc,EAAlB,EAAkBA,IAElB,OAAO,cAAC,IAAD,CAAMO,UAAWrB,GAAYc,EAAIC,GAAjC,SAA+CpG,KCyCzC2G,MA5Cf,WAEE,MAAoCvE,qBAAWyC,GAAvCQ,EAAR,EAAQA,SAAUM,EAAlB,EAAkBA,MAAOY,EAAzB,EAAyBA,OACzB,EAAgC9F,mBAAS,IAAzC,mBAAOmF,EAAP,KAAiBgB,EAAjB,KACA,EAAgCnG,mBAAS,IAAzC,mBAAOuE,EAAP,KAAiB6B,EAAjB,KAGM9F,EAAe,SAAC2C,GACpB,MAAoBA,EAAEzC,OAAjBC,EAAL,EAAKA,KAAMhB,EAAX,EAAWA,MACC,aAATgB,GAAqB0F,EAAY1G,GACxB,aAATgB,GAAqB2F,EAAY3G,IAOpC,OACE,qCACE,cAAC,IAAD,CAAMwG,UAAWrB,EAAjB,SACE,wBAAQlC,QAASoD,EAAjB,uBAGF,cAAC,IAAD,CAAMG,WAAYrB,EAAlB,SACE,uBAAM9D,SAXO,SAACmC,GACpBA,EAAE5C,iBACF6E,EAAMC,EAAUZ,IASV,UACE,uBACE,cAAY,WACZtD,YAAY,WACZR,KAAK,WACLM,SAAUT,IAEZ,uBACE,cAAY,WACZW,YAAY,WACZR,KAAK,WACLM,SAAUT,IAEZ,wBAAQU,KAAM,SAAd,4BChCG,SAASqF,IACtB,MAAoCrG,qBAApC,mBAAOY,EAAP,KAAmByC,EAAnB,KACA,EAAwBrD,mBAAS,IAAjC,mBAAOwB,EAAP,KAAa4B,EAAb,KAQA,OANA1C,qBAAU,WACR,IAAI+C,EAAkBjC,EAAKkC,QAAO,SAACnB,GAAD,OAAWA,EAAKI,YAAUT,OAC5DmB,EAAcI,GACdE,SAASC,MAAT,sBAAgCH,KAC/B,CAACjC,IAGF,qCACE,eAAC,EAAD,WACE,cAAC,EAAD,IAEA,cAAC,EAAD,UACE,gEAGF,cAAC,EAAD,CAAMmE,WAAW,SAAjB,SACE,0EAGF,cAAC,EAAD,CAAMA,WAAW,SAAjB,SACE,0EAGF,cAAC,EAAD,CAAMA,WAAW,SAAjB,SACE,6EAIJ,eAAC,IAAD,WACE,cAAC,IAAD,CAAMW,GAAG,QAAT,uBACA,cAAC,IAAD,CAAMA,GAAG,YAAT,sBACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,YAAYC,QAAS,cAAC,EAAD,MACjC,cAAC,IAAD,CACED,KAAK,QACLC,QACE,cAAC,EAAD,CACE5F,WAAYA,EACZyC,cAAeA,EACfD,QAASA,EACT5B,KAAMA,YAOhB,cAAC,EAAD,CAAOA,KAAMA,EAAM4B,QAASA,O,ICvD5BqD,E,4JACJ,WACE,OACE,cAACC,EAAD,UACE,cAACL,EAAD,U,GAJWjH,IAAMuH,WAUZC,IAASC,WAAWlD,SAASmD,eAAe,SACpDC,OAAO,cAAC,EAAD,O","file":"static/js/main.95fe1d30.chunk.js","sourcesContent":["import React from 'react';\n\nexport const SettingsContext = React.createContext();\n\nfunction SettingsProvider({children}) {\n\n  const state = {\n    showCompleted: true, \n    itemsToDisplay: 3,\n    sort: 'difficulty',\n\n  }\n\n  return (\n    <SettingsContext.Provider value={state}>\n      {children}\n    </SettingsContext.Provider>\n  )\n}\n\n\nexport default SettingsProvider;\n","import { useState, useEffect } from 'react';\n\nconst useForm = (callback, defaultValues={}) => {\n\n  const [values, setValues] = useState({});\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    callback(values);\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n    setValues(values => ({ ...values, [event.target.name]: event.target.value }));\n  };\n\n  useEffect( () => {\n    setValues( defaultValues );\n  }, [defaultValues]);\n  \n  return {\n    handleChange,\n    handleSubmit,\n    values,\n  };\n};\n\nexport default useForm;\n","import React from 'react';\n\nfunction Header({ incomplete }) {\n  return (\n    <header>\n      <h1>Home</h1>\n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nconst Form = ({ handleChange, handleSubmit, defaultValues }) => {\n  \n  return (\n    <form onSubmit={handleSubmit}>\n\n        <h2>Add To Do Item</h2>\n\n        <label>\n          <span>To Do Item</span>\n          <input onChange={handleChange} name=\"text\" type=\"text\" placeholder=\"Item Details\" />\n        </label>\n\n        <label>\n          <span>Assigned To</span>\n          <input onChange={handleChange} name=\"assignee\" type=\"text\" placeholder=\"Assignee Name\" />\n        </label>\n\n        <label>\n          <span>Difficulty</span>\n          <input onChange={handleChange} defaultValue={defaultValues.difficulty} type=\"range\" min={1} max={5} name=\"difficulty\" />\n        </label>\n\n        <label>\n          <button type=\"submit\" className='bp4-intent-success'>Add Item</button>\n        </label>\n      </form>\n  )\n\n}\n\nexport default Form;","import React, { useContext, useState } from 'react';\nimport { SettingsContext } from '../../context/Settings.js';\n\n\n\nconst List = ({ list, toggleComplete }) => {\n\n  const settings = useContext(SettingsContext);\n\n  const [page, setPage] = useState(1);\n\n  const renderItems = () => {\n    let items = [];\n    let start = (settings.itemsToDisplay * page) - 3;\n    let end = (settings.itemsToDisplay * page);\n    if (list.length > settings.itemsToDisplay) {\n      for (let i = start; i < end; i++) {\n        items.push(list[i]);\n      }\n      return items;\n    } else {\n      return list;\n    }\n  }\n\n  return (\n    <>\n      <section id='cards'>\n        {renderItems().map(item => (\n          item ?\n            <div key={item.id}>\n              <h3>{item.text}</h3>\n              <p>Assigned to: {item.assignee}</p>\n              <p>Difficulty: {item.difficulty}</p>\n              <button onClick={() => toggleComplete(item.id)} className={item.complete ? 'bp4-intent-danger' : 'bp4-intent-primary'}>Complete: {item.complete.toString()}</button>\n              <hr />\n            </div> : null\n        ))\n        }\n        {list.length > (settings.itemsToDisplay * 2) || page > 1 ?\n          <button \n            type='click' \n            onClick={() => setPage(page - 1)} \n            className=' buttons bp4-intent-warning'\n            disabled={page < 2 ? true : false}\n            >Previous</button> : null}\n        {list.length > settings.itemsToDisplay ?\n          <button \n            type='click' \n            onClick={() => setPage(page + 1)} \n            className='buttons bp4-intent-success'\n            disabled={list.length / page <= settings.itemsToDisplay ? true : false}\n            >Next</button> : null}\n      </section>\n    </>\n  )\n}\n\nexport default List;\n","import React from 'react';\nimport { useState } from 'react';\n\nconst Footer = () => {\n\n  const [show, setShow] = useState(false);\n\n  const handleClick = (e) => {\n    setShow(!show);\n  }\n\n  return (\n    <footer>\n    <p onClick={handleClick} id=\"me\">PPPPPPP</p>\n    <p className={show ? 'showPath' : 'hidden'}>PPPPPPPPPPPP</p>\n    <div id='PPPP'>\n      <a href='PPPP'>PPPPPP</a>\n      <a href='PPPP'>PPPPPPP</a>\n    </div>\n  </footer>\n  )\n}\n\nexport default Footer;","import React, { useContext, useEffect, useState } from 'react';\nimport useForm from '../../hooks/form.js';\n\nimport { SettingsContext } from '../../context/Settings.js';\nimport { v4 as uuid } from 'uuid';\n\nimport Header from '../header/header.js'\nimport Form from '../form/Form.js'\nimport List from '../items/items.js'\nimport Footer from '../footer/Footer.js'\n\nconst ToDo = () => {\n\n  const settings = useContext(SettingsContext);\n\n  const defaultValues = {\n    difficulty: 4,\n  }\n\n  const [list, setList] = useState([]);\n  const [incomplete, setIncomplete] = useState([]);\n  const { handleChange, handleSubmit } = useForm(addItem, defaultValues);\n\n  function addItem(item) {\n    console.log(item);\n    item.id = uuid();\n    item.complete = false;\n    setList([...list, item]);\n    console.log(settings.itemsToDisplay)\n  }\n\n  // function deleteItem(id) {\n  //   const items = list.filter(item => item.id !== id);\n  //   setList(items);\n  // }\n\n  function toggleComplete(id) {\n\n    const items = list.map(item => {\n      if (item.id === id) {\n        item.complete = !item.complete;\n      }\n      return item;\n    });\n\n    setList(items);\n\n  }\n\n  useEffect(() => {\n    let incompleteCount = list.filter(item => !item.complete).length;\n    setIncomplete(incompleteCount);\n  }, [list]);\n\n  useEffect(() => {\n    document.title = `To Do List: ${incomplete}`;\n  }, [incomplete])\n\n  return (\n    <>\n      <Header incomplete={incomplete} />\n      <div id='main'>\n      <h1>To Do List: {incomplete} items pending</h1>\n        <Form\n          handleChange={handleChange}\n          handleSubmit={handleSubmit}\n          defaultValues={defaultValues}\n        />\n\n        <List\n          list={list}\n          toggleComplete={toggleComplete}\n        />\n      </div>\n    <Footer />\n    </>\n  );\n};\n\nexport default ToDo;","import React, { useContext } from \"react\";\nimport { SettingsContext } from \"../../context/Settings.js\";\n\nfunction UserSettings() {\n  let settings = useContext(SettingsContext);\n  return (\n    <div>\n      <label htmlFor=\"item count\">Item Count: </label>\n      <input\n        id=\"item count\"\n        type=\"number\"\n        name=\"item count\"\n        min=\"1\"\n        value={settings.itemPref}\n        max=\"10\"\n        onChange={(e) => settings.setItemPref(e.target.value)}\n      />\n\n      <label htmlFor=\"display completed\"> Display Completed</label>\n      <input\n        type=\"checkbox\"\n        id=\"display completed\"\n        name=\"display completed\"\n        onChange={(e) => settings.setDisComp(e.target.value)}\n        checked={settings.dispComp}\n        onClick={() => {\n          settings.setDisComp();\n        }}\n      />\n    </div>\n  );\n}\n\nexport default UserSettings;\n","import React, { useState } from \"react\";\nimport cookie from \"react-cookies\";\nimport jwt_decode from \"jwt-decode\";\n\nexport const LoginContext = React.createContext();\n\nconst testUsers = {\n  Administrator: {\n    password: 'admin',\n    name: 'Administrator',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQWRtaW5pc3RyYXRvciIsInJvbGUiOiJhZG1pbiIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJywncmVhZCcsJ3VwZGF0ZScsJ2RlbGV0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.pAZXAlTmC8fPELk2xHEaP1mUhR8egg9TH5rCyqZhZkQ'\n  },\n  User: {\n    password: 'user',\n    name: 'User',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiVXNlciIsInJvbGUiOiJ1c2VyIiwiY2FwYWJpbGl0aWVzIjoiWydyZWFkJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.WXYvIKLdPz_Mm0XDYSOJo298ftuBqqjTzbRvCpxa9Go'\n  },\n  Writer: {\n    password: \"writer\",\n    name: \"Writer\",\n    token: \"eyJhbGciOiJIUzI1NiJ9.eyJwYXNzd29yZCI6IndyaXRlciIsIm5hbWUiOiJXcml0ZXIifQ.q9egPAo_gMcXnoikO-DP5Z_9f9vh4bwbvQLTM_t8mdM\",\n  },\n};\n\nfunction LoginProvider({ children }) {\n\n  let [loggedIn, setLoggedIn] = useState(false);\n  let [user, setUser] = useState({});\n  let [error, setError] = useState(null);\n\n  const can = (capability) => {\n    return user?.capabilities?.includes(capability);\n  };\n\n  const login = async (username, password) => {\n    let authCredentials = testUsers[username];\n\n    if (authCredentials && authCredentials.password === password) {\n      try {\n        _validateToken(authCredentials.token);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  };\n\n  const _validateToken = (token) => {\n    try {\n      let user = jwt_decode(token);\n      if (user) {\n        setUser(user);\n        setLoggedIn(true);\n        cookie.save(\"auth\", token);\n      }\n    } catch (e) {\n      setLoggedIn(false, null, {});\n      setError(e);\n    }\n  };\n\n  const logout = () => {\n    setUser({});\n    setLoggedIn(false);\n    setError(null);\n    cookie.remove(\"auth\");\n  };\n\n  const values = {\n    user,\n    can,\n    loggedIn,\n    login,\n    logout,\n    error,\n  };\n\n  return (\n    <LoginContext.Provider value={values}>{children}</LoginContext.Provider>\n  );\n}\n\nexport default LoginProvider;\n","import React, { useContext } from \"react\";\nimport { When } from \"react-if\";\n\nimport { LoginContext } from \"./context.js\";\n\nfunction Auth({ capability, children }) {\n  const { loggedIn, can } = useContext(LoginContext);\n\n  return <When condition={loggedIn && can(capability)}>{children}</When>;\n}\n\nexport default Auth;\n","import React, { useState, useContext } from \"react\";\nimport { When } from \"react-if\";\n\nimport { LoginContext } from \"./context.js\";\n\nfunction Login () {\n\n  const { loggedIn, login, logout } = useContext(LoginContext)\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n\n  const handleChange = (e) => {\n    let {name, value} = e.target;\n    if(name === 'username') setUsername(value);\n    if(name === 'password') setPassword(value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(username, password);\n  };\n    return (\n      <>\n        <When condition={loggedIn}>\n          <button onClick={logout}>Log Out</button>\n        </When>\n\n        <When condition={!loggedIn}>\n          <form onSubmit={handleSubmit}>\n            <input\n              data-testid=\"username\"\n              placeholder=\"Username\"\n              name=\"username\"\n              onChange={handleChange}\n            />\n            <input\n              data-testid=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              onChange={handleChange}\n            />\n            <button type =\"submit\">Login</button>\n          </form>\n        </When>\n      </>\n    );\n  }\n\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Routes, Route, Link } from \"react-router-dom\";\n\nimport ToDo from \"./components/todo/todo.js\";\nimport Items from \"./components/items/items.js\";\nimport UserSettings from \"./components/todo/useSettings.js\";\nimport Auth from \"./components/auth/auth.js\";\nimport Login from \"./components/auth/login.js\";\nimport LoginContext from \"./components/auth/context.js\";\n\nexport default function App() {\n  const [incomplete, setIncomplete] = useState();\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    let incompleteCount = list.filter((item) => !item.complete).length;\n    setIncomplete(incompleteCount);\n    document.title = `To Do List: ${incompleteCount}`;\n  }, [list]);\n\n  return (\n    <>\n      <LoginContext>\n        <Login />\n\n        <Auth>\n          <div>Any valid user can see this</div>\n        </Auth>\n\n        <Auth capability=\"create\">\n          <div>Users with create access can see this</div>\n        </Auth>\n\n        <Auth capability=\"update\">\n          <div>Users with update access can see this</div>\n        </Auth>\n\n        <Auth capability=\"delete\">\n          <div>Users with delete access can see this</div>\n        </Auth>\n      </LoginContext>\n\n      <BrowserRouter>\n        <Link to=\"/todo\">Home Page</Link>\n        <Link to=\"/settings\">Settings</Link>\n        <Routes>\n          <Route path=\"/settings\" element={<UserSettings />} />\n          <Route\n            path=\"/todo\"\n            element={\n              <ToDo\n                incomplete={incomplete} \n                setIncomplete={setIncomplete}\n                setList={setList}\n                list={list}\n              />\n            }\n          />\n        </Routes>\n      </BrowserRouter>\n\n      <Items list={list} setList={setList} />\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport Settings from \"./context/Settings.js\";\n\nimport App from \"./app.js\";\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <Settings>\n        <App />\n      </Settings>\n    );\n  }\n}\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<Main />);\n"],"sourceRoot":""}