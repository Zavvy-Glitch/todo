(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{34:function(e,t,n){"use strict";n.r(t);var c=n(15),i=n(16),s=n(22),r=n(20),a=n(0),o=n.n(a),l=n(17),j=n.n(l),u=n(3),d=n(1),b=o.a.createContext();var O=function(e){var t=Object(a.useState)(5),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(!0),r=Object(u.a)(s,2),o=r[0],l=r[1],j=Object(a.useState)("difficulty"),O=Object(u.a)(j,2),h=O[0],p=O[1];Object(a.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("settings"))||{};0===Object.keys(e).length?console.log("Not Items"):(console.log("This",e),i(e.itemPref),l(e.dispComp),p(e.sort))}),[]),Object(a.useEffect)((function(){window.localStorage.setItem("settings",JSON.stringify({itemPref:c,dispComp:o,sort:h}))}),[c,o,h]);var m={dispComp:o,setDisComp:function(){l(!o)},itemPref:c,setItemPref:function(e){i(e)},sort:h,setSort:function(e){"string"===typeof e&&p(e)}};return Object(d.jsx)(b.Provider,{value:m,children:e.children})},h=n(9),p=n(2),m=n(21),x=n(8),f=n(10),v=function(e){var t=Object(a.useState)({}),n=Object(u.a)(t,2),c=n[0],i=n[1];return{handleChange:function(e){e.persist(),i((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),c.text&&c.assignee&&e(c)},values:c}},g=n(36);var y=function(e){var t=v((function(t){t.id=Object(g.a)(),t.complete=!1;var n=e.list.filter((function(e){return e.text.toLowerCase()===t.text.toLowerCase()&&e.assignee.toLowerCase()===t.assignee.toLowerCase()}));n.length>0||e.setList([].concat(Object(m.a)(e.list),[t]))})),n=t.handleChange,c=t.handleSubmit;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{onSubmit:c,children:[Object(d.jsx)("h2",{children:"Add To Do Item"}),Object(d.jsxs)("label",{children:[Object(d.jsx)("span",{children:"To Do Item"}),Object(d.jsx)("input",{onChange:n,name:"text",type:"text",placeholder:"Item Details"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("span",{children:"Assigned To"}),Object(d.jsx)("input",{onChange:n,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("span",{children:"Difficulty"}),Object(d.jsx)("input",{onChange:n,defaultValue:3,type:"range",min:1,max:5,name:"difficulty"})]}),Object(d.jsx)("label",{children:Object(d.jsx)("button",{type:"submit",children:"Add Item"})})]})})};function I(e){return Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{children:"To Do List"}),Object(d.jsxs)("h2",{children:[" ",e.incomplete," items pending"]})]})}var C=function(e){var t=Object(a.useContext)(b),n=Object(a.useState)(1),c=Object(u.a)(n,2),i=c[0],s=c[1];function r(e){"next"!==e.target.id?s(i-1):s(i+1)}return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:function(){var n=i*t.itemPref,c=n-t.itemPref,s=e.list.slice(c,n);return t.dispComp?s:s.filter((function(e){return!e.complete}))}().map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:Object(d.jsxs)("small",{children:["Assigned to: ",t.assignee]})}),Object(d.jsx)("p",{children:t.text}),Object(d.jsx)("p",{children:Object(d.jsxs)("small",{children:["Difficulty: ",t.difficulty]})}),Object(d.jsxs)("div",{onClick:function(){return function(t){var n=e.list.map((function(e){return e.id===t&&(e.complete=!e.complete),e}));e.setList(n)}(t.id)},children:["Complete:"," ",Object(d.jsx)("button",{type:"button",className:"w-10 rounded-md py-1 px-1 cursor-pointer ".concat(!0===t.complete?"bg-green-300":"bg-red-300"),children:t.complete.toString()})]})]},t.id)}))}),Object(d.jsxs)("div",{children:[i>1&&Object(d.jsx)("button",{id:"prev",onClick:r,type:"button",children:"PREV"}),e.list.length>t.itemsPerPage?Object(d.jsx)("button",{id:"next",onClick:r,type:"button",children:"NEXT"}):null]})]})};var w=function(){var e=Object(a.useContext)(b);return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"item count",children:"Item Count: "}),Object(d.jsx)("input",{id:"item count",type:"number",name:"item count",min:"1",value:e.itemPref,max:"10",onChange:function(t){return e.setItemPref(t.target.value)}}),Object(d.jsx)("label",{htmlFor:"display completed",children:" Display Completed"}),Object(d.jsx)("input",{type:"checkbox",id:"display completed",name:"display completed",onChange:function(t){return e.setDisComp(t.target.value)},checked:e.dispComp,onClick:function(){e.setDisComp()}})]})},J=n(7),S=n(18),k=n(11),P=n.n(k),X=n(12),L=n.n(X),D=n(19),W=o.a.createContext(),G={Administrator:{password:"admin",name:"Administrator",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQWRtaW5pc3RyYXRvciIsInJvbGUiOiJhZG1pbiIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJywncmVhZCcsJ3VwZGF0ZScsJ2RlbGV0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.pAZXAlTmC8fPELk2xHEaP1mUhR8egg9TH5rCyqZhZkQ"},User:{password:"user",name:"User",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiVXNlciIsInJvbGUiOiJ1c2VyIiwiY2FwYWJpbGl0aWVzIjoiWydyZWFkJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.WXYvIKLdPz_Mm0XDYSOJo298ftuBqqjTzbRvCpxa9Go"},Writer:{password:"password",name:"Writer",token:"yJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3cml0ZXIiOnsicGFzc3dvcmQiOiJwYXNzd29yZCIsIm5hbWUiOiJXcml0ZXIifX0.g_hayyIxz717Nt-B71nPdzUGMCuVw03jkciFXcYWXm0"}};var N=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(u.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)({}),o=Object(u.a)(r,2),l=o[0],j=o[1],b=Object(a.useState)(null),O=Object(u.a)(b,2),h=O[0],p=O[1],m=function(){var e=Object(S.a)(P.a.mark((function e(t,n){var c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=G[t])&&c.password===n)try{x(c.token)}catch(i){console.error(i)}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){try{var t=Object(D.a)(e);t&&(j(t),s(!0),L.a.save("auth",e))}catch(n){s(!1,null,{}),p(n)}},f={user:l,can:function(e){var t;return null===l||void 0===l||null===(t=l.capabilities)||void 0===t?void 0:t.includes(e)},loggedIn:i,login:m,logout:function(){j({}),s(!1),p(null),L.a.remove("auth")},error:h};return Object(d.jsx)(W.Provider,{value:f,children:t})};var U=function(e){var t=e.capability,n=e.children,c=Object(a.useContext)(W),i=c.loggedIn,s=c.can;return Object(d.jsx)(J.a,{condition:i&&s(t),children:n})};var Y=function(){var e=Object(a.useContext)(W),t=e.loggedIn,n=e.login,c=e.logout,i=Object(a.useState)(""),s=Object(u.a)(i,2),r=s[0],o=s[1],l=Object(a.useState)(""),j=Object(u.a)(l,2),b=j[0],O=j[1],h=function(e){var t=e.target,n=t.name,c=t.value;"username"===n&&o(c),"password"===n&&O(c)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(J.a,{condition:t,children:Object(d.jsx)("button",{onClick:c,children:"Log Out"})}),Object(d.jsx)(J.a,{condition:!t,children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(r,b)},children:[Object(d.jsx)("input",{"data-testid":"username",placeholder:"Username",name:"username",onChange:h}),Object(d.jsx)("input",{"data-testid":"password",placeholder:"Password",name:"password",onChange:h}),Object(d.jsx)("button",{type:"submit",children:"Login"})]})})]})};function F(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),s=Object(u.a)(i,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){var e=r.filter((function(e){return!e.complete})).length;c(e),document.title="To Do List: ".concat(e)}),[r]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(N,{children:[Object(d.jsx)(Y,{}),Object(d.jsx)(U,{children:Object(d.jsx)("div",{children:"Any valid user can see this"})}),Object(d.jsx)(U,{capability:"create",children:Object(d.jsx)("div",{children:"Users with create access can see this"})}),Object(d.jsx)(U,{capability:"update",children:Object(d.jsx)("div",{children:"Users with update access can see this"})}),Object(d.jsx)(U,{capability:"delete",children:Object(d.jsx)("div",{children:"Users with delete access can see this"})})]}),Object(d.jsxs)(h.a,{children:[Object(d.jsx)(I,{incomplete:n}),Object(d.jsx)(h.b,{to:"/todo",children:"Home Page"}),Object(d.jsx)(h.b,{to:"/settings",children:"Settings"}),Object(d.jsxs)(p.c,{children:[Object(d.jsx)(p.a,{path:"/settings",element:Object(d.jsx)(w,{})}),Object(d.jsx)(p.a,{path:"/todo",element:Object(d.jsx)(y,{setIncomplete:c,setList:o,list:r})})]})]}),Object(d.jsx)(C,{list:r,setList:o})]})}var T=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(d.jsx)(O,{children:Object(d.jsx)(F,{})})}}]),n}(o.a.Component);j.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(T,{}))}},[[34,1,2]]]);
//# sourceMappingURL=main.7a5c14f2.chunk.js.map