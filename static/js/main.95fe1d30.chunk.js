(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{34:function(e,t,n){"use strict";n.r(t);var c=n(15),i=n(16),s=n(22),a=n(20),r=n(0),l=n.n(r),o=n(17),j=n.n(o),u=n(1),d=l.a.createContext();var b=function(e){var t=e.children;return Object(u.jsx)(d.Provider,{value:{showCompleted:!0,itemsToDisplay:3,sort:"difficulty"},children:t})},h=n(3),O=n(9),p=n(2),m=n(21),x=n(8),f=n(10),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.useState)({}),c=Object(h.a)(n,2),i=c[0],s=c[1],a=function(t){t.preventDefault(),e(i)},l=function(e){e.persist(),s((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))}))};return Object(r.useEffect)((function(){s(t)}),[t]),{handleChange:l,handleSubmit:a,values:i}},g=n(36);var y=function(e){return e.incomplete,Object(u.jsx)("header",{children:Object(u.jsx)("h1",{children:"Home"})})},P=function(e){var t=e.handleChange,n=e.handleSubmit,c=e.defaultValues;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsx)("h2",{children:"Add To Do Item"}),Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{children:"To Do Item"}),Object(u.jsx)("input",{onChange:t,name:"text",type:"text",placeholder:"Item Details"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{children:"Assigned To"}),Object(u.jsx)("input",{onChange:t,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{children:"Difficulty"}),Object(u.jsx)("input",{onChange:t,defaultValue:c.difficulty,type:"range",min:1,max:5,name:"difficulty"})]}),Object(u.jsx)("label",{children:Object(u.jsx)("button",{type:"submit",className:"bp4-intent-success",children:"Add Item"})})]})},I=function(e){var t=e.list,n=e.toggleComplete,c=Object(r.useContext)(d),i=Object(r.useState)(1),s=Object(h.a)(i,2),a=s[0],l=s[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("section",{id:"cards",children:[function(){var e=[],n=c.itemsToDisplay*a-3,i=c.itemsToDisplay*a;if(t.length>c.itemsToDisplay){for(var s=n;s<i;s++)e.push(t[s]);return e}return t}().map((function(e){return e?Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:e.text}),Object(u.jsxs)("p",{children:["Assigned to: ",e.assignee]}),Object(u.jsxs)("p",{children:["Difficulty: ",e.difficulty]}),Object(u.jsxs)("button",{onClick:function(){return n(e.id)},className:e.complete?"bp4-intent-danger":"bp4-intent-primary",children:["Complete: ",e.complete.toString()]}),Object(u.jsx)("hr",{})]},e.id):null})),t.length>2*c.itemsToDisplay||a>1?Object(u.jsx)("button",{type:"click",onClick:function(){return l(a-1)},className:" buttons bp4-intent-warning",disabled:a<2,children:"Previous"}):null,t.length>c.itemsToDisplay?Object(u.jsx)("button",{type:"click",onClick:function(){return l(a+1)},className:"buttons bp4-intent-success",disabled:t.length/a<=c.itemsToDisplay,children:"Next"}):null]})})},C=function(){var e=Object(r.useState)(!1),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(u.jsxs)("footer",{children:[Object(u.jsx)("p",{onClick:function(e){c(!n)},id:"me",children:"PPPPPPP"}),Object(u.jsx)("p",{className:n?"showPath":"hidden",children:"PPPPPPPPPPPP"}),Object(u.jsxs)("div",{id:"PPPP",children:[Object(u.jsx)("a",{href:"PPPP",children:"PPPPPP"}),Object(u.jsx)("a",{href:"PPPP",children:"PPPPPPP"})]})]})},J=function(){var e=Object(r.useContext)(d),t={difficulty:4},n=Object(r.useState)([]),c=Object(h.a)(n,2),i=c[0],s=c[1],a=Object(r.useState)([]),l=Object(h.a)(a,2),o=l[0],j=l[1],b=v((function(t){console.log(t),t.id=Object(g.a)(),t.complete=!1,s([].concat(Object(m.a)(i),[t])),console.log(e.itemsToDisplay)}),t),O=b.handleChange,p=b.handleSubmit;return Object(r.useEffect)((function(){var e=i.filter((function(e){return!e.complete})).length;j(e)}),[i]),Object(r.useEffect)((function(){document.title="To Do List: ".concat(o)}),[o]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(y,{incomplete:o}),Object(u.jsxs)("div",{id:"main",children:[Object(u.jsxs)("h1",{children:["To Do List: ",o," items pending"]}),Object(u.jsx)(P,{handleChange:O,handleSubmit:p,defaultValues:t}),Object(u.jsx)(I,{list:i,toggleComplete:function(e){var t=i.map((function(t){return t.id===e&&(t.complete=!t.complete),t}));s(t)}})]}),Object(u.jsx)(C,{})]})};var w=function(){var e=Object(r.useContext)(d);return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"item count",children:"Item Count: "}),Object(u.jsx)("input",{id:"item count",type:"number",name:"item count",min:"1",value:e.itemPref,max:"10",onChange:function(t){return e.setItemPref(t.target.value)}}),Object(u.jsx)("label",{htmlFor:"display completed",children:" Display Completed"}),Object(u.jsx)("input",{type:"checkbox",id:"display completed",name:"display completed",onChange:function(t){return e.setDisComp(t.target.value)},checked:e.dispComp,onClick:function(){e.setDisComp()}})]})},k=n(7),D=n(18),S=n(11),T=n.n(S),N=n(12),W=n.n(N),X=n(19),U=l.a.createContext(),G={Administrator:{password:"admin",name:"Administrator",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQWRtaW5pc3RyYXRvciIsInJvbGUiOiJhZG1pbiIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJywncmVhZCcsJ3VwZGF0ZScsJ2RlbGV0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.pAZXAlTmC8fPELk2xHEaP1mUhR8egg9TH5rCyqZhZkQ"},User:{password:"user",name:"User",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiVXNlciIsInJvbGUiOiJ1c2VyIiwiY2FwYWJpbGl0aWVzIjoiWydyZWFkJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.WXYvIKLdPz_Mm0XDYSOJo298ftuBqqjTzbRvCpxa9Go"},Writer:{password:"writer",name:"Writer",token:"eyJhbGciOiJIUzI1NiJ9.eyJwYXNzd29yZCI6IndyaXRlciIsIm5hbWUiOiJXcml0ZXIifQ.q9egPAo_gMcXnoikO-DP5Z_9f9vh4bwbvQLTM_t8mdM"}};var Y=function(e){var t=e.children,n=Object(r.useState)(!1),c=Object(h.a)(n,2),i=c[0],s=c[1],a=Object(r.useState)({}),l=Object(h.a)(a,2),o=l[0],j=l[1],d=Object(r.useState)(null),b=Object(h.a)(d,2),O=b[0],p=b[1],m=function(){var e=Object(D.a)(T.a.mark((function e(t,n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=G[t])&&c.password===n)try{x(c.token)}catch(i){console.error(i)}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){try{var t=Object(X.a)(e);t&&(j(t),s(!0),W.a.save("auth",e))}catch(n){s(!1,null,{}),p(n)}},f={user:o,can:function(e){var t;return null===o||void 0===o||null===(t=o.capabilities)||void 0===t?void 0:t.includes(e)},loggedIn:i,login:m,logout:function(){j({}),s(!1),p(null),W.a.remove("auth")},error:O};return Object(u.jsx)(U.Provider,{value:f,children:t})};var Z=function(e){var t=e.capability,n=e.children,c=Object(r.useContext)(U),i=c.loggedIn,s=c.can;return Object(u.jsx)(k.a,{condition:i&&s(t),children:n})};var A=function(){var e=Object(r.useContext)(U),t=e.loggedIn,n=e.login,c=e.logout,i=Object(r.useState)(""),s=Object(h.a)(i,2),a=s[0],l=s[1],o=Object(r.useState)(""),j=Object(h.a)(o,2),d=j[0],b=j[1],O=function(e){var t=e.target,n=t.name,c=t.value;"username"===n&&l(c),"password"===n&&b(c)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k.a,{condition:t,children:Object(u.jsx)("button",{onClick:c,children:"Log Out"})}),Object(u.jsx)(k.a,{condition:!t,children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(a,d)},children:[Object(u.jsx)("input",{"data-testid":"username",placeholder:"Username",name:"username",onChange:O}),Object(u.jsx)("input",{"data-testid":"password",placeholder:"Password",name:"password",onChange:O}),Object(u.jsx)("button",{type:"submit",children:"Login"})]})})]})};function F(){var e=Object(r.useState)(),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),s=Object(h.a)(i,2),a=s[0],l=s[1];return Object(r.useEffect)((function(){var e=a.filter((function(e){return!e.complete})).length;c(e),document.title="To Do List: ".concat(e)}),[a]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(Y,{children:[Object(u.jsx)(A,{}),Object(u.jsx)(Z,{children:Object(u.jsx)("div",{children:"Any valid user can see this"})}),Object(u.jsx)(Z,{capability:"create",children:Object(u.jsx)("div",{children:"Users with create access can see this"})}),Object(u.jsx)(Z,{capability:"update",children:Object(u.jsx)("div",{children:"Users with update access can see this"})}),Object(u.jsx)(Z,{capability:"delete",children:Object(u.jsx)("div",{children:"Users with delete access can see this"})})]}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(O.b,{to:"/todo",children:"Home Page"}),Object(u.jsx)(O.b,{to:"/settings",children:"Settings"}),Object(u.jsxs)(p.c,{children:[Object(u.jsx)(p.a,{path:"/settings",element:Object(u.jsx)(w,{})}),Object(u.jsx)(p.a,{path:"/todo",element:Object(u.jsx)(J,{incomplete:n,setIncomplete:c,setList:l,list:a})})]})]}),Object(u.jsx)(I,{list:a,setList:l})]})}var L=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)(b,{children:Object(u.jsx)(F,{})})}}]),n}(l.a.Component);j.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(L,{}))}},[[34,1,2]]]);
//# sourceMappingURL=main.95fe1d30.chunk.js.map